<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.work.dto.dao.SpaceDaoImpl">
	<!-- 스페이스 생성 -->
	<insert id="spaceCreate1" parameterType="com.work.dto.SpaceVO">
	INSERT INTO SPACE(SPACE_NO, MANAGER_NO)
					VALUES(SPACE_NO_SEQ.NEXTVAL,#{managerNo})
		<selectKey keyProperty="spaceNo" resultType="Integer" order="AFTER">
			SELECT NVL(MAX(SPACE_NO), 0) FROM SPACE
		</selectKey>
	</insert>
	
	<insert id="spaceCreate2" parameterType="com.work.dto.SpaceVO">
	INSERT INTO SPACE(SPACE_NO, SPACE_NAME, MANAGER_NO)
					VALUES(SPACE_NO_SEQ.NEXTVAL, #{spaceName}, #{managerNo})	
		<selectKey keyProperty="spaceNo" resultType="Integer" order="AFTER">
			SELECT NVL(MAX(SPACE_NO), 0) FROM SPACE
		</selectKey>
	</insert>
	
	<!-- 스페이스 목록 -->
<!-- 	<select id="spaceList" resultType="spaceVO" parameterType="com.work.dto.SpaceVO"> -->
<!-- 		SELECT	SPACE_NO AS SPACENO,  -->
<!-- 				SPACE_NAME AS SPACENAME,  -->
<!-- 				MANAGER_NO AS MANAGERNO -->
<!-- 			FROM SPACE -->
<!-- 		WHERE  -->
<!-- 			SPACE_NAME = #{spaceName} -->
<!-- 			AND MANAGER_NO = #{memberNo} -->
<!-- 			AND max(SPACE_NO)  -->

<!-- 		SELECT SPACE_No AS SPACENO,  -->
<!--         SPACE_NAME AS SPACENAME,  -->
<!--         MANAGER_NO AS MANAGERNO -->
<!-- 			FROM SPACE -->
<!-- 		WHERE  -->
<!--             SPACE_NO = (SELECT MAX(SPACE_NO) FROM SPACE); -->
<!-- 	</select> -->
	
</mapper>